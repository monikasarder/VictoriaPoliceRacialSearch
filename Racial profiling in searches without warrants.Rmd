---
title: "Racial profiling in searches by Victoria Police carried out without a warrant - data overview"
author: "Monika Sarder"
date: "2024-09-16"
output: html_document
---


```{r setup, echo = FALSE, warning = FALSE, message=FALSE}
knitr::opts_chunk$set(results = "asis")

library(tidyverse)
library(plotly)
library(summarytools)
library(kableExtra)
library(magrittr)
library(rmarkdown)
library(forcats)
library(gmodels)
library(crosstable)
library(janitor)
library(DT)
library(plotly)
library(scales)

theme_set(theme_classic())
dat <- readRDS("Output.data/Searches.with.hierarchy.RDS")

dat <- dat %>%
  mutate(Any.items.found = factor(Any.items.found))

sdat <- dat %>%
  group_by(FieldContactID) %>%
  filter(row_number()==1)%>%
  ungroup()

```

# Search without warrant based on 'reasonable grounds' - data overview

The dataset in scope was four years of data - 2018, 2019, 2022 and 2023 - summarising `r nrow(sdat)` instances in which Victoria Police stopped and searched individuals without a warrant. The legal basis of the stop and search was a 'reasonable grounds' for the officer to suspect that the person was in possession of one of the following items:

* **Drugs**: under the section 82 of the *Drugs Poisons and Controlled Substances Act 1981* 
* **Volatile substances for inhalation** for use by a person under 18: under sections 60E and 60F of the *Drugs Poisons and Controlled Substances Act 1981*  
* **Weapons or dangerous articles**: under *Section 10 Control of Weapons Act 1990*  
* **Firearms**: under section 149 of the *Firearms Act 1996*   
* **Graffiti implements** at a designated place: under section 13 of the *Graffiti Prevention Act* or 

The dataset includes individual searches and includes a range of information such as racial appearance of the person being searched, item suspected to be present, whether a prohibited item was found, rank of officer, reporting station and whether the search related to a person 'P' or a vehicle 'V'.

Note that 2020 and 2021 data is not included in this analysis due to the extraordinary circumstances of the COVID 19 pandemic. Stop and search data from this period is not a sound basis for which to make inferences about stop and search behaviour, including profiling, in non-pandemic periods.

# Hit Rate Analysis of Victoria Police 'reasonable grounds' searches
One way that racial profiling by police can be identified is through examining the reasonableness of police searches.  For the searches examined by this analysis, police are not authorised to search a person unless they hold a suspicion, based on reasonable grounds, that a person is in possession of a prohibited item.  When police perform a ‘reasonable grounds’ search we can infer (it is only an inference) that it is more likely the police had reasonable grounds for suspicion if they ‘find’ a contraband item following the search.  This inference is not reasonable in individual cases and there are many examples of police finding a contraband item following an unreasonable search.  However, over a large number of searches, the find rate provides a widely accepted mechanism to assess the overall reasonableness of police searches.  

## Hit rate of searches over time  

In the years in scope, 17.1 percent of 'reasonable grounds' searches resulted in a 'find'. The number of searches varied minimally over the period. 

```{r hit rate plot, echo = FALSE, warning = FALSE, message = FALSE}

sdat %>%
  group_by(Year)%>%
  summarise(`Total searches` = n(), Finds = sum(Any.items.found ==1, na.rm = T))%>%
  mutate(`Hit rate` = round(Finds/`Total searches`*100, digits = 1))%>%
  select(Year, `Total searches`, Finds, `Hit rate`)%>%
  kbl()%>%
  kable_styling(full_width = F)
```

## Racial appearance data oveview 
Victoria Police records the ethnic appearance of the people that they search without warrant. The racial appearance of persons who were subject to a search used in this analysis appears in Figure 1 below. The groupings were consistent with the current racial appearance categories used by Victoria Police.  

A total of 10,657 search records, or twenty percent of all records, did not have any racial appearance data entered, despite this field being mandatory. Records where the officer was unable to determine the racial appearance were marked as 'Other'.

Note that the aggregation of persons of Mediterranean and Middle Eastern appearance into a single category presents a challenge, as we would ordinarily expect persons of Italian, Greek, Croatian ancestry etc to be considered 'non-racialised', whereas persons in the Middle Eastern appearance would be more likely to be considered racialised, and potentially subject to islamophobia, depending on faith.  The Police Accountability Project urges Victoria Police to disaggregate these categories. 

Note also that police perception of racial appearance will not identify police-targeting of white appearing Aboriginal people.  The results for Aboriginal people therefore must be read with caution. 



```{r summary 1, echo = FALSE, warning = FALSE}
pct_format = scales::percent_format(accuracy = .1)
sdat <- sdat %>%
  mutate(`Racial appearance` = factor(Racial.appearance, levels = c(
    "White", "Middle Eastern/Med","Asian", "African",
    "Aboriginal", "Pacific Islander", "South Asian", "South American","Other","Missing"
  )))

fig1 <- sdat %>%
  ggplot(aes(`Racial appearance`))+geom_bar(fill = "darkblue") + geom_text(
    aes(
      label = sprintf(
        '%s',
        pct_format(..count.. / sum(..count..))
      )
    ),
    stat = 'count',
    nudge_y = 800,
    size = 3
  )+ylab("Total searches")+theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))+ggtitle("Figure 1 Total 'reasonable grounds' searches by racial appearance")

fig1
```

## Hit rate by racial appearance
Analysing police search decisions in response to police perception of a person’s racial background is a reasonable method for detecting bias in people whose ethnicity corresponds to appearance.   

The hit rate by racial appearance is summarised in Table X below

```{r Finds race, echo=FALSE, warning=FALSE}
sdat %>%
  group_by(`Racial appearance`)%>%
  summarise(Finds = sum(Found == "Yes", na.rm = T), `Total searches`= n())%>%
  mutate(`Hit rate` = round(Finds/`Total searches`*100, digits = 1)) %>%
  select(`Racial appearance`, `Hit rate`, Finds, `Total searches`)%>%
  kable()

```



```{r race hit rate, echo = FALSE, warning = FALSE}

trend <- sdat %>%
  filter(!`Racial appearance` %in% c("Other", "Missing", "South American"))%>%
  group_by(Year, `Racial appearance`)%>%
  summarise(Finds = sum(Found == "Yes", na.rm = T), `Total searches`= n())%>%
  mutate(`Hit rate` = round(Finds/`Total searches`*100, digits = 1)) %>%
  ungroup()%>%
  ggplot(aes(x = Year, y = `Hit rate`)) +geom_col(fill = "darkblue")+
  facet_wrap(~`Racial appearance`)+ 
  geom_hline(yintercept = 17,linetype="dotted", color = "red") +theme(legend.position = "none")

ggplotly(trend)
```


```{r summary 2, echo = FALSE, warning = FALSE}


of.interest <- c("Year",  "Area.type", "Unit.type", "Contact.Type" ,"Racial.appearance", "Gender", "Rank.of.Member", "Any.items.found")

`VicPol station data` <- sdat %>%
  select(all_of(of.interest))%>%
  mutate(across(everything(), ~ fct_infreq(.)))
  
print(dfSummary(`VicPol station data`, 
          max.distinct.values = 10, 
           varnumbers   = FALSE, 
                valid.col    = FALSE, 
                graph.magnif = 0.76),
      method = 'render')
```


## Finds by characteristics

An analysis of the hit-rate for features of interest appears below.
```{r Finds, echo=FALSE, warning=FALSE}

sdat %>% 
  crosstable(c(Racial.appearance, Unit.type, Gender, Year,  Area.type), by=Any.items.found, total=TRUE, 
           test=TRUE, showNA='ifany', percent_digits=1) %>% 
  as_flextable()
```

## Missing race by characteristics

An analysis of the percentage with racial appearance data missing by chara

```{r Missing, echo=FALSE, warning=FALSE}

sdat %>% 
  crosstable(c(Search.type, Year, Area.type, Region,Gender, Any.items.found), by=Racial.appearance.missing, total=TRUE, 
           test=TRUE, showNA='ifany', percent_digits=1) %>% 
  as_flextable()
```

## Hit rates by LGA

```{r LGA, echo=FALSE, warning=FALSE}



lga.racial <- sdat %>%
  filter(Unit.type == "Uniform")%>%
  group_by(Local.Government.Area)%>%
  mutate(LGA.Hit.rate = round(sum(Any.items.found ==1, na.rm = T)/n()*100, digits = 1), Total.searches = n())%>%
  group_by(Area.type, Local.Government.Area, Total.searches, LGA.Hit.rate, Racial.appearance)%>%
  summarise(Finds = sum(Any.items.found ==1, na.rm = T), Searches = n())%>%
  mutate(Searches = ifelse(Searches <= 5, NA, Searches))%>%
  mutate(`Hit rate` = round(Finds/Searches*100, digits = 1))%>%
  select(-Finds, -Searches)%>%
  pivot_wider(names_from = Racial.appearance,
    values_from = c(`Hit rate`)
  )

datatable(lga.racial, rownames = F)
```
